System.register(["react"],function(t){var e;return{setters:[function(t){e=t}],execute:function(){t(function(t){var e={};function r(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(n,o,function(e){return t[e]}.bind(null,o));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=20)}([function(t,e,r){(function(){var t=r(7),n=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,o=function(t){return t?t.toString().replace(n,""):""};e.trim=o;var i=function(t){return null==t&&void 0===t?String(t):{"[object Boolean]":"boolean","[object Number]":"number","[object String]":"string","[object Function]":"function","[object Array]":"array","[object Date]":"date","[object RegExp]":"regexp","[object Object]":"object"}[Object.prototype.toString.call(t)]};e.type=i;e.assertArray=function(t){if("array"!==i(t))throw"not array";return t};var u=function(t){if("object"!==i(t))throw"not object";return t};e.assertObject=u;var s=function(t,e,r){var n,o;return r||(r=[]),u(t),function(){var e;for(n in e=[],t)o=t[n],e.push([n,o]);return e}().reduce(e,r)};e.reduceMap=s;e.identity=function(t){return t};var c=function(){return Array.prototype.slice.call(arguments)};e.argsArray=c;e.mergeLists=function(){var e;return e=function(e,r){var n,o,i;for(n in o=t(!0,e),r)i=r[n],o[n]=(o[n]||[]).concat(i);return o},c.apply(null,arguments).reduce(e,{})};e.absoluteUrl=function(t,e){return e.match(/https?:\/\/./)?e:t+"/"+e};e.relativeUrl=function(t,e){return e.slice(e,t.length+1)===t+"/"?e.slice(t.length+1):e},e.resourceIdToUrl=function(t,e,r){return e=e.replace(/\/$/,""),(t=t.replace(/^\//,"")).indexOf("/")<0?e+"/"+r+"/"+t:0!==t.indexOf(e)?e+"/"+t:t};var a=function(t,e,r,n){var o;switch(i(r)){case"array":return e(r.map(function(e){return t(e,[r,n])}),n);case"object":return o=function(e,o){var i,u;return i=o[0],u=o[1],e[i]=t(u,[r].concat(n)),e},e(s(r,o,{}),n);default:return e(r,n)}};e.walk=a;var f=function(t,e,r){return e?a(f(t),t,e,r):function(e,r){return f(t,e,r)}};e.postwalk=f}).call(this)},function(t,e,r){(function(){var t=r(0),n=function(t){return t.and=function(e){return n((r=t,o=e,function(t){return r(o(t))}));var r,o},t.end=function(e){return t(e)},t};e.$$Simple=function(t){return function(e){return function(r){return e(t(r))}}};e.$$Attr=function(e,r){return n(function(n){return function(o){var i=null;return i="function"==t.type(r)?r(o):r,n(null==i&&null==i?o:function(t,e,r){for(var n=e.split("."),o=t,i=0;i<n.length-1;i++){var u=n[i];(o=t[u])||(o={},t[u]=o)}return o[n[n.length-1]]=r,t}(o,e,i))}})};var o=function(t,e){return n(function(r){return function(n){return n[t]=e(n),r(n)}})};e.Middleware=n,e.Attribute=o,e.Method=function(t){return o("method",(e=t,function(){return e}));var e}}).call(this)},function(t,r){t.exports=e},function(t,e,r){"use strict";(function(t){var r="object"==typeof t&&t&&t.Object===Object&&t;e.a=r}).call(this,r(6))},function(t,e,r){(function(){r(0);var e=r(1),n=r(9),o=r(10),i=r(12),u=r(13),s=r(14),c=r(15),a=r(16),f=r(17),l=r(18),h=r(19);t.exports=function(t,r){var p=e.Middleware,d=e.$$Attr,b=function(t){return d("method",t)},y=function(t,e){return d("headers."+t,e)},v=p(u),m=p(s(t,r)).and(v).and(o.$Basic).and(o.$Bearer).and(o.$Credentials).and(i.$JsonData).and(y("Accept",t.headers&&t.headers.Accept?t.headers.Accept:"application/json")).and(y("Content-Type",t.headers&&t.headers["Content-Type"]?t.headers["Content-Type"]:"application/json")),w=m.and(b("GET")),g=m.and(b("POST")),_=m.and(b("PUT")),E=m.and(b("DELETE")),S=i.Http(t,r),j=(0,l.Path)(t.baseUrl),x=j.slash(":type || :resource.resourceType"),O=x.slash("_history"),P=x.slash(":id || :resource.id"),$=P.slash("_history"),T=$.slash(":versionId || :resource.meta.versionId"),A=($.slash(":versionId || :resource.meta.versionId"),y("Prefer","return=representation")),I=p(n.$Paging);return h({conformance:w.and(j.slash("metadata")).end(S),document:g.and(j.slash("Document")).end(S),profile:w.and(j.slash("Profile").slash(":type")).end(S),transaction:g.and(j).end(S),history:w.and(j.slash("_history")).and(I).end(S),typeHistory:w.and(O).and(I).end(S),resourceHistory:w.and($).and(I).end(S),read:w.and(a.$WithPatient).and(P).end(S),vread:w.and(T).end(S),delete:E.and(P).and(A).end(S),create:g.and(x).and(A).end(S),validate:g.and(x.slash("_validate")).end(S),search:w.and(x).and(a.$WithPatient).and(n.$SearchParams).and(I).end(S),update:_.and(P).and(A).end(S),nextPage:w.and(c.$$BundleLinkUrl("next")).end(S),prevPage:w.and(c.$$BundleLinkUrl("prev")).end(S),resolve:w.and(f.resolve).end(S)},r)}}).call(this)},,function(t,e){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(t){"object"==typeof window&&(r=window)}t.exports=r},function(t,e,r){(function(t){!function(e){var r=function(t){return o(!0===t,!1,arguments)};function n(t,e){if("object"!==i(t))return e;for(var r in e)"object"===i(t[r])&&"object"===i(e[r])?t[r]=n(t[r],e[r]):t[r]=e[r];return t}function o(t,e,o){var u=o[0],s=o.length;(t||"object"!==i(u))&&(u={});for(var c=0;c<s;++c){var a=o[c];if("object"===i(a))for(var f in a)if("__proto__"!==f){var l=t?r.clone(a[f]):a[f];u[f]=e?n(u[f],l):l}}return u}function i(t){return{}.toString.call(t).slice(8,-1).toLowerCase()}r.recursive=function(t){return o(!0===t,!0,arguments)},r.clone=function(t){var e,n,o=t,u=i(t);if("array"===u)for(o=[],n=t.length,e=0;e<n;++e)o[e]=r.clone(t[e]);else if("object"===u)for(e in o={},t)o[e]=r.clone(t[e]);return o},e?t.exports=r:window.merge=r}(t&&"object"==typeof t.exports&&t.exports)}).call(this,r(8)(t))},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,r){(function(){var t=r(0),n=t.type,o=t.assertArray,i=(t.assertObject,t.reduceMap),u=t.identity,s={$gt:"gt",$lt:"lt",$lte:"lte",$gte:"gte"},c={$asc:":asc",$desc:":desc",$exact:":exact",$missing:":missing",$null:":missing",$text:":text"},a=function(t,e){if("$sort"===t)return function(t){var e,r,i,u;for(o(t),i=[],e=0,r=t.length;e<r;e++)switch(u=t[e],n(u)){case"array":i.push({param:"_sort",value:u[0],modifier:":"+u[1]});break;case"string":i.push({param:"_sort",value:u});break;default:i.push(void 0)}return i}(e);if("$include"===t)return i(e,function(t,e){var r,o;return r=e[0],o=e[1],t.concat(function(){switch(n(o)){case"array":return o.map(function(t){return{param:"_include",value:r+"."+t}});case"string":return[{param:"_include",value:r+"."+o}]}}())});switch(n(e)){case"object":return function(t,e){return i(e,function(r,i){var u,f,l,h;return u=i[0],h=i[1],r.concat("$and"===u?o(h).reduce(function(e,r){return e.concat(a(t,r))},[]):"$type"===u?[]:function(t){return 0===t.indexOf("$")}(u)?(f={param:t},"$or"===u?f.value=h:(s[u]&&(f.operator=s[u]),c[u]&&(f.modifier=c[u]),"object"===n(h)&&h.$or?f.value=h.$or:f.value=[h]),[f]):(e.$type&&(l=":"+e.$type),a(""+t+(l||"")+"."+u,h)))})}(t,e);case"string":case"number":return[{param:t,value:[e]}];case"array":return[{param:t,value:[e.join("|")]}];default:throw"could not linearizeParams "+n(e)}},f=function(t){return i(t,function(t,e){var r,n;return r=e[0],n=e[1],t.concat(a(r,n))})},l=function(t){var e;return function(){var r,n,o,i;for(i=[],r=0,n=(o=f(t)).length;r<n;r++)e=o[r],i.push([e.param,e.modifier,"=",e.operator,encodeURIComponent(e.value)].filter(u).join(""));return i}().join("&")};e._query=f,e.query=l;var h=r(1);e.$SearchParams=h.$$Attr("url",function(t){var e=t.url;return t.query?e+"?"+l(t.query):e}),e.$Paging=function(t){return function(e){var r=e.params||{};return e.since&&(r._since=e.since),e.count&&(r._count=e.count),e.params=r,t(e)}}}).call(this)},function(t,e,r){(function(){var t,n=r(1),o=r(11).btoa;e.$Basic=n.$$Attr("headers.Authorization",function(t){if(t.auth&&t.auth.user&&t.auth.pass)return"Basic "+o(t.auth.user+":"+t.auth.pass)}),e.$Bearer=n.$$Attr("headers.Authorization",function(t){if(t.auth&&t.auth.bearer)return"Bearer "+t.auth.bearer}),e.$Credentials=n.Middleware(n.$$Attr("credentials",function(e){return t=e.credentials,""})).and(n.$$Attr("credentials",function(e){if(["same-origin","include"].indexOf(t)>-1)return t}))}).call(this)},function(t,e,r){!function(){var t=e,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function n(t){this.message=t}n.prototype=new Error,n.prototype.name="InvalidCharacterError",t.btoa||(t.btoa=function(t){for(var e,o,i=String(t),u=0,s=r,c="";i.charAt(0|u)||(s="=",u%1);c+=s.charAt(63&e>>8-u%1*8)){if((o=i.charCodeAt(u+=.75))>255)throw new n("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");e=e<<8|o}return c}),t.atob||(t.atob=function(t){var e=String(t).replace(/=+$/,"");if(e.length%4==1)throw new n("'atob' failed: The string to be decoded is not correctly encoded.");for(var o,i,u=0,s=0,c="";i=e.charAt(s++);~i&&(o=u%4?64*o+i:i,u++%4)?c+=String.fromCharCode(255&o>>(-2*u&6)):0)i=r.indexOf(i);return c})}()},function(t,e,r){(function(){var t=r(0);e.Http=function(t,e){return function(r){r.debug&&console.log("\nDEBUG (request):",r.method,r.url,r);var n=(r.http||e.http||t.http)(r);return r.debug&&n&&n.then&&n.then(function(t){console.log("\nDEBUG: (responce)",t)}),n}};e.$JsonData=function(e){return function(r){var n,o=r.bundle||r.data||r.resource;return o&&(r.data=(n=o,"object"==t.type(n)?JSON.stringify(n):n)),e(r)}}}).call(this)},function(t,e){t.exports=function(t){return function(e){try{return t(e)}catch(t){if(e.debug&&(console.log("\nDEBUG: (ERROR in middleware)"),console.log(t.message),console.log(t.stack)),!e.defer)throw console.log("\nDEBUG: (ERROR in middleware)"),console.log(t.message),console.log(t.stack),new Error("I need adapter.defer");var r=e.defer();return r.reject(t),r.promise}}}},function(t,e){(function(){var e=function(t,e,r){var n=t[r];return n&&!e[r]&&(e[r]=n),t};t.exports=function(t,r){return function(n){return function(o){return e(t,o,"baseUrl"),e(t,o,"cache"),e(t,o,"auth"),e(t,o,"patient"),e(t,o,"debug"),e(t,o,"credentials"),e(t,o,"headers"),e(t,o,"agentOptions"),e(r,o,"defer"),e(r,o,"http"),n(o)}}}}).call(this)},function(t,e){e.$$BundleLinkUrl=function(t){return function(e){return function(r){var n=r.bundle&&(r.bundle.link||[]).filter(function(e){return e.relation&&e.relation===t})[0];if(n&&n.url)return r.url=n.url,r.data=null,e(r);throw new Error("No "+t+" link found in bundle")}}}},function(t,e,r){(function(){var t=r(1),n=["Account","AllergyIntolerance","BodySite","CarePlan","Claim","ClinicalImpression","Communication","CommunicationRequest","Composition","Condition","Contract","DetectedIssue","Device","DeviceUseRequest","DeviceUseStatement","DiagnosticOrder","DiagnosticReport","DocumentManifest","DocumentReference","Encounter","EnrollmentRequest","EpisodeOfCare","FamilyMemberHistory","Flag","Goal","ImagingObjectSelection","ImagingStudy","Immunization","ImmunizationRecommendation","List","Media","MedicationAdministration","MedicationDispense","MedicationOrder","MedicationStatement","NutritionOrder","Observation","Order","Procedure","ProcedureRequest","QuestionnaireResponse","ReferralRequest","RelatedPerson","RiskAssessment","Specimen","SupplyDelivery","SupplyRequest","VisionPrescription"];e.$WithPatient=t.$$Simple(function(t){var e=t.type;return t.patient&&("Patient"===e?(t.query=t.query||{},t.query._id=t.patient,t.id=t.patient):n.indexOf(e)>=0&&(t.query=t.query||{},t.query.patient=t.patient)),t})}).call(this)},function(t,e,r){(function(){var e=r(0),n=/^#(.*)/,o=function(t){var r=t.cache,o=t.reference,i=t.bundle,u=o;if(!u.reference)return null;if(u.reference.match(n))return function(t,e){var r=t.match(n)[1],o=(e.contained||[]).filter(function(t){return(t.id||t._id)==r})[0];return o&&{content:o}||null}(u.reference,t.resource);var s=e.absoluteUrl(t.baseUrl,u.reference);return(i&&i.entry||[]).filter(function(t){return t.id===s})[0]||(null!=r?r[s]:void 0)||null};t.exports.sync=o,t.exports.resolve=function(t){return function(r){var i=o(r),u=r.reference,s=r.defer();if(i){if(!r.defer)throw new Error("I need promise constructor 'adapter.defer' in adapter");return s.resolve(i),s.promise}if(!u)throw new Error("No reference found");if(u&&u.reference.match(n))throw new Error("Contained resource not found");return r.url=e.absoluteUrl(r.baseUrl,u.reference),r.data=null,t(r)}}}).call(this)},function(t,e,r){(function(){r(0);var t=r(1),n=function(e,r){var o=function(t){return(r&&r(t)+"/"||"")+function(t,e){var r=function(t,e){return 0==t.indexOf(":")?function(t,e){for(var r,n=t.split("||").map(function(t){return t.trim().substring(1)}),o=0;o<n.length;o++){var i=(r=e,n[o].split(".").reduce(function(t,e){return null==t||null==t?null:t[e]},r));if(i)return i}return null}(t,e):t}(t.trim(),e);if(null==r||void 0===r)throw new Error("Parameter "+t+" is required: "+JSON.stringify(e));return r}(e,t)},i=t.Attribute("url",o);return i.slash=function(t){return n(t,o)},i};e.Path=n}).call(this)},function(t,e){(function(){var e,r;function n(t,n,o,i){r.defer();e.search(t).then(function(t){(function t(n,o){var i,u=n.data.entry||[],s=[];for(i=0;i<u.length;i++)s.push(u[i].resource);o(s);var c=r.defer();return e.nextPage({bundle:n.data}).then(function(e){t(e,o).then(function(t){c.resolve()})},function(t){c.resolve()}),c.promise})(t,n).then(function(){o()},function(t){i(t)})},function(t){i(t)})}function o(t){var e=r.defer(),o=[];return n(t,function(t){t.forEach(function(t){o.push(t)})},function(){e.resolve(o)},function(t){e.reject(t)}),e.promise}function i(t,n){var o=r.defer();return e.search(t).then(function(t){var r={},i=[function(){o.resolve(t,r)}];function u(t,n,o){i.push(function(){!function(t,n,o){var i=o.reference;e.resolve({bundle:t,resource:n,reference:o}).then(function(t){var e=t.data||t.content;r[i]=e,s()})}(t,n,o)})}function s(){i.pop()()}var c=t.data;c.entry&&c.entry.forEach(function(t){var e=t.resource,o=e.resourceType;n&&n.forEach(function(t){var n=t.split("."),i=n[0],s=n[1],a=e[s];if(o===i&&a){var f=a.reference;r[f]||u(c,e,a)}})}),s()},function(){o.reject("Could not fetch search results")}),o.promise}t.exports=function(t,u){return e=t,r=u,t.drain=n,t.fetchAll=o,t.fetchAllWithReferences=i,t}}).call(this)},function(t,e,r){"use strict";r.r(e),function(t,e=1){if("string"!=typeof t||0===t.trim().length)throw Error("systemjs-webpack-interop: setPublicPath(systemjsModuleName) must be called with a non-empty string 'systemjsModuleName'");if("number"!=typeof e||e<=0||!Number.isInteger(e))throw Error("systemjs-webpack-interop: setPublicPath(systemjsModuleName, rootDirectoryLevel) must be called with a positive integer 'rootDirectoryLevel'");let n;try{if(!(n=window.System.resolve(t)))throw Error()}catch(e){throw Error("systemjs-webpack-interop: There is no such module '"+t+"' in the SystemJS registry. Did you misspell the name of your module?")}r.p=function(t,e){const r=new URL(t),n=new URL(t).pathname;let o=0,i=n.length;for(;o!==e&&i>=0;){"/"===n[--i]&&o++}if(o!==e)throw Error("systemjs-webpack-interop: rootDirectoryLevel ("+e+") is greater than the number of directories ("+o+") in the URL path "+fullUrl);return r.pathname=r.pathname.slice(0,i+1),r.href}(n,e)}("@openmrs/esm-api");var n=r(3),o="object"==typeof self&&self&&self.Object===Object&&self,i=(n.a||o||Function("return this")()).Symbol,u=Object.prototype,s=u.hasOwnProperty,c=u.toString,a=i?i.toStringTag:void 0;var f=function(t){var e=s.call(t,a),r=t[a];try{t[a]=void 0;var n=!0}catch(t){}var o=c.call(t);return n&&(e?t[a]=r:delete t[a]),o},l=Object.prototype.toString;var h=function(t){return l.call(t)},p="[object Null]",d="[object Undefined]",b=i?i.toStringTag:void 0;var y=function(t){return null==t?void 0===t?d:p:b&&b in Object(t)?f(t):h(t)};var v=function(t,e){return function(r){return t(e(r))}}(Object.getPrototypeOf,Object);var m=function(t){return null!=t&&"object"==typeof t},w="[object Object]",g=Function.prototype,_=Object.prototype,E=g.toString,S=_.hasOwnProperty,j=E.call(Object);var x=function(t){if(!m(t)||y(t)!=w)return!1;var e=v(t);if(null===e)return!0;var r=S.call(e,"constructor")&&e.constructor;return"function"==typeof r&&r instanceof r&&E.call(r)==j},O=function(t,e){return(O=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function P(t,e){function r(){this.constructor=t}O(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}function $(t){return"function"==typeof t}var T=!1,A={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){t&&(new Error).stack;T=t},get useDeprecatedSynchronousErrorHandling(){return T}};function I(t){setTimeout(function(){throw t},0)}var D={closed:!0,next:function(t){},error:function(t){if(A.useDeprecatedSynchronousErrorHandling)throw t;I(t)},complete:function(){}},k=function(){return Array.isArray||function(t){return t&&"number"==typeof t.length}}();function U(t){return null!==t&&"object"==typeof t}var C=function(){function t(t){return Error.call(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map(function(t,e){return e+1+") "+t.toString()}).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t}(),N=function(){function t(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}return t.prototype.unsubscribe=function(){var e;if(!this.closed){var r=this._parentOrParents,n=this._unsubscribe,o=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,r instanceof t)r.remove(this);else if(null!==r)for(var i=0;i<r.length;++i){r[i].remove(this)}if($(n))try{n.call(this)}catch(t){e=t instanceof C?M(t.errors):[t]}if(k(o)){i=-1;for(var u=o.length;++i<u;){var s=o[i];if(U(s))try{s.unsubscribe()}catch(t){e=e||[],t instanceof C?e=e.concat(M(t.errors)):e.push(t)}}}if(e)throw new C(e)}},t.prototype.add=function(e){var r=e;if(!e)return t.EMPTY;switch(typeof e){case"function":r=new t(e);case"object":if(r===this||r.closed||"function"!=typeof r.unsubscribe)return r;if(this.closed)return r.unsubscribe(),r;if(!(r instanceof t)){var n=r;(r=new t)._subscriptions=[n]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var o=r._parentOrParents;if(null===o)r._parentOrParents=this;else if(o instanceof t){if(o===this)return r;r._parentOrParents=[o,this]}else{if(-1!==o.indexOf(this))return r;o.push(this)}var i=this._subscriptions;return null===i?this._subscriptions=[r]:i.push(r),r},t.prototype.remove=function(t){var e=this._subscriptions;if(e){var r=e.indexOf(t);-1!==r&&e.splice(r,1)}},t.EMPTY=function(t){return t.closed=!0,t}(new t),t}();function M(t){return t.reduce(function(t,e){return t.concat(e instanceof C?e.errors:e)},[])}var R=function(){return"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}(),B=function(t){function e(r,n,o){var i=t.call(this)||this;switch(i.syncErrorValue=null,i.syncErrorThrown=!1,i.syncErrorThrowable=!1,i.isStopped=!1,arguments.length){case 0:i.destination=D;break;case 1:if(!r){i.destination=D;break}if("object"==typeof r){r instanceof e?(i.syncErrorThrowable=r.syncErrorThrowable,i.destination=r,r.add(i)):(i.syncErrorThrowable=!0,i.destination=new F(i,r));break}default:i.syncErrorThrowable=!0,i.destination=new F(i,r,n,o)}return i}return P(e,t),e.prototype[R]=function(){return this},e.create=function(t,r,n){var o=new e(t,r,n);return o.syncErrorThrowable=!1,o},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var t=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this},e}(N),F=function(t){function e(e,r,n,o){var i,u=t.call(this)||this;u._parentSubscriber=e;var s=u;return $(r)?i=r:r&&(i=r.next,n=r.error,o=r.complete,r!==D&&($((s=Object.create(r)).unsubscribe)&&u.add(s.unsubscribe.bind(s)),s.unsubscribe=u.unsubscribe.bind(u))),u._context=s,u._next=i,u._error=n,u._complete=o,u}return P(e,t),e.prototype.next=function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;A.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}},e.prototype.error=function(t){if(!this.isStopped){var e=this._parentSubscriber,r=A.useDeprecatedSynchronousErrorHandling;if(this._error)r&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)r?(e.syncErrorValue=t,e.syncErrorThrown=!0):I(t),this.unsubscribe();else{if(this.unsubscribe(),r)throw t;I(t)}}},e.prototype.complete=function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var r=function(){return t._complete.call(t._context)};A.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,r),this.unsubscribe()):(this.__tryOrUnsub(r),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(t,e){try{t.call(this._context,e)}catch(t){if(this.unsubscribe(),A.useDeprecatedSynchronousErrorHandling)throw t;I(t)}},e.prototype.__tryOrSetError=function(t,e,r){if(!A.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,r)}catch(e){return A.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=e,t.syncErrorThrown=!0,!0):(I(e),!0)}return!1},e.prototype._unsubscribe=function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()},e}(B);var H=function(){return"function"==typeof Symbol&&Symbol.observable||"@@observable"}();function q(){}function L(t){return t?1===t.length?t[0]:function(e){return t.reduce(function(t,e){return e(t)},e)}:q}var V=function(){function t(t){this._isScalar=!1,t&&(this._subscribe=t)}return t.prototype.lift=function(e){var r=new t;return r.source=this,r.operator=e,r},t.prototype.subscribe=function(t,e,r){var n=this.operator,o=function(t,e,r){if(t){if(t instanceof B)return t;if(t[R])return t[R]()}return t||e||r?new B(t,e,r):new B(D)}(t,e,r);if(n?o.add(n.call(o,this.source)):o.add(this.source||A.useDeprecatedSynchronousErrorHandling&&!o.syncErrorThrowable?this._subscribe(o):this._trySubscribe(o)),A.useDeprecatedSynchronousErrorHandling&&o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){A.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),!function(t){for(;t;){var e=t,r=e.closed,n=e.destination,o=e.isStopped;if(r||o)return!1;t=n&&n instanceof B?n:null}return!0}(t)?console.warn(e):t.error(e)}},t.prototype.forEach=function(t,e){var r=this;return new(e=Y(e))(function(e,n){var o;o=r.subscribe(function(e){try{t(e)}catch(t){n(t),o&&o.unsubscribe()}},n,e)})},t.prototype._subscribe=function(t){var e=this.source;return e&&e.subscribe(t)},t.prototype[H]=function(){return this},t.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 0===t.length?this:L(t)(this)},t.prototype.toPromise=function(t){var e=this;return new(t=Y(t))(function(t,r){var n;e.subscribe(function(t){return n=t},function(t){return r(t)},function(){return t(n)})})},t.create=function(e){return new t(e)},t}();function Y(t){if(t||(t=A.Promise||Promise),!t)throw new Error("no Promise impl found");return t}function J(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("string"!=typeof t)throw Error("The first argument to @openmrs/api's openmrsFetch function must be a url string");if("object"!=typeof e)throw Error("The second argument to @openmrs/api's openmrsFetch function must be a plain object.");if(!window.openmrsBase)throw Error("@openmrs/api is running in a browser that doesn't have window.openmrsBase, which is provided by openmrs-module-spa's HTML file.");t=window.openmrsBase+t,e.headers||(e.headers={}),x(e.body)&&(e.body=JSON.stringify(e.body)),void 0===e.headers.Accept&&(e.headers.Accept="application/json"),null===e.headers.Accept&&delete e.headers.Accept;const r=Error();return window.fetch(t,e).then(e=>{const n=e;return n.ok?204===n.status?(n.data=null,n):n.json().then(t=>(n.data=t,n)):n.text().then(e=>{let o=e;try{o=JSON.parse(e)}catch(t){}throw new G(t,n,o,r)},e=>{throw new G(t,n,null,r)})})}function z(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!=typeof e)throw Error("The second argument to openmrsObservableFetch must be either omitted or an object");const r=new AbortController;return e.signal=r.signal,new V(n=>{let o=!1;return J(t,e).then(t=>{o=!0,n.next(t),n.complete()},t=>{o=!0,n.error(t)}),()=>{o||r.abort()}})}class G extends Error{constructor(t,e,r,n){super(),this.message="Server responded with ".concat(e.status," (").concat(e.statusText,") for url ").concat(t,". Check err.responseBody or network tab in dev tools for more info"),n.message=this.message,this.responseBody=r,this.response=e,this.stack="Stacktrace for outgoing request:\n".concat(n.stack,"\nStacktrace for incoming response:\n").concat(this.stack)}}var W=r(4);const Q={http:t=>J(t.url,{method:t.method,headers:t.headers}).then(e=>({status:e.status,headers:e.headers,data:e.data,config:t}),e=>({status:e.response.status,headers:e.response.headers,data:e.responseBody,config:t}))},K=r.n(W)()({baseUrl:"/ws/fhir"},Q);var X=function(){function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t}(),Z=function(t){function e(e,r){var n=t.call(this)||this;return n.subject=e,n.subscriber=r,n.closed=!1,n}return P(e,t),e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var r=e.indexOf(this.subscriber);-1!==r&&e.splice(r,1)}}},e}(N),tt=function(t){function e(e){var r=t.call(this,e)||this;return r.destination=e,r}return P(e,t),e}(B),et=function(t){function e(){var e=t.call(this)||this;return e.observers=[],e.closed=!1,e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return P(e,t),e.prototype[R]=function(){return new tt(this)},e.prototype.lift=function(t){var e=new rt(this,this);return e.operator=t,e},e.prototype.next=function(t){if(this.closed)throw new X;if(!this.isStopped)for(var e=this.observers,r=e.length,n=e.slice(),o=0;o<r;o++)n[o].next(t)},e.prototype.error=function(t){if(this.closed)throw new X;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,r=e.length,n=e.slice(),o=0;o<r;o++)n[o].error(t);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new X;this.isStopped=!0;for(var t=this.observers,e=t.length,r=t.slice(),n=0;n<e;n++)r[n].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(e){if(this.closed)throw new X;return t.prototype._trySubscribe.call(this,e)},e.prototype._subscribe=function(t){if(this.closed)throw new X;return this.hasError?(t.error(this.thrownError),N.EMPTY):this.isStopped?(t.complete(),N.EMPTY):(this.observers.push(t),new Z(this,t))},e.prototype.asObservable=function(){var t=new V;return t.source=this,t},e.create=function(t,e){return new rt(t,e)},e}(V),rt=function(t){function e(e,r){var n=t.call(this)||this;return n.destination=e,n.source=r,n}return P(e,t),e.prototype.next=function(t){var e=this.destination;e&&e.next&&e.next(t)},e.prototype.error=function(t){var e=this.destination;e&&e.error&&this.destination.error(t)},e.prototype.complete=function(){var t=this.destination;t&&t.complete&&this.destination.complete()},e.prototype._subscribe=function(t){return this.source?this.source.subscribe(t):N.EMPTY},e}(et),nt=function(t){function e(e){var r=t.call(this)||this;return r._value=e,r}return P(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),e.prototype._subscribe=function(e){var r=t.prototype._subscribe.call(this,e);return r&&!r.closed&&e.next(this._value),r},e.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new X;return this._value},e.prototype.next=function(e){t.prototype.next.call(this,this._value=e)},e}(et),ot=function(t){function e(e,r,n){var o=t.call(this)||this;return o.parent=e,o.outerValue=r,o.outerIndex=n,o.index=0,o}return P(e,t),e.prototype._next=function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)},e.prototype._error=function(t){this.parent.notifyError(t,this),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(B);function it(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}var ut=it(),st=function(t){return t&&"number"==typeof t.length&&"function"!=typeof t};function ct(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}var at=function(t){if(t&&"function"==typeof t[H])return o=t,function(t){var e=o[H]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(st(t))return n=t,function(t){for(var e=0,r=n.length;e<r&&!t.closed;e++)t.next(n[e]);t.complete()};if(ct(t))return r=t,function(t){return r.then(function(e){t.closed||(t.next(e),t.complete())},function(e){return t.error(e)}).then(null,I),t};if(t&&"function"==typeof t[ut])return e=t,function(t){for(var r=e[ut]();;){var n=r.next();if(n.done){t.complete();break}if(t.next(n.value),t.closed)break}return"function"==typeof r.return&&t.add(function(){r.return&&r.return()}),t};var e,r,n,o,i=U(t)?"an invalid object":"'"+t+"'";throw new TypeError("You provided "+i+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")};var ft=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return P(e,t),e.prototype.notifyNext=function(t,e,r,n,o){this.destination.next(e)},e.prototype.notifyError=function(t,e){this.destination.error(t)},e.prototype.notifyComplete=function(t){this.destination.complete()},e}(B);function lt(t,e){return function(r){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return r.lift(new ht(t,e))}}var ht=function(){function t(t,e){this.project=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new pt(t,this.project,this.thisArg))},t}(),pt=function(t){function e(e,r,n){var o=t.call(this,e)||this;return o.project=r,o.count=0,o.thisArg=n||o,o}return P(e,t),e.prototype._next=function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(B);function dt(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[H]}(t))return function(t,e){return new V(function(r){var n=new N;return n.add(e.schedule(function(){var o=t[H]();n.add(o.subscribe({next:function(t){n.add(e.schedule(function(){return r.next(t)}))},error:function(t){n.add(e.schedule(function(){return r.error(t)}))},complete:function(){n.add(e.schedule(function(){return r.complete()}))}}))})),n})}(t,e);if(ct(t))return function(t,e){return new V(function(r){var n=new N;return n.add(e.schedule(function(){return t.then(function(t){n.add(e.schedule(function(){r.next(t),n.add(e.schedule(function(){return r.complete()}))}))},function(t){n.add(e.schedule(function(){return r.error(t)}))})})),n})}(t,e);if(st(t))return function(t,e){return new V(function(r){var n=new N,o=0;return n.add(e.schedule(function(){o!==t.length?(r.next(t[o++]),r.closed||n.add(this.schedule())):r.complete()})),n})}(t,e);if(function(t){return t&&"function"==typeof t[ut]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new V(function(r){var n,o=new N;return o.add(function(){n&&"function"==typeof n.return&&n.return()}),o.add(e.schedule(function(){n=t[ut](),o.add(e.schedule(function(){if(!r.closed){var t,e;try{var o=n.next();t=o.value,e=o.done}catch(t){return void r.error(t)}e?r.complete():(r.next(t),this.schedule())}}))})),o})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}function bt(t,e,r){return void 0===r&&(r=Number.POSITIVE_INFINITY),"function"==typeof e?function(n){return n.pipe(bt(function(r,n){return(o=t(r,n),i?dt(o,i):o instanceof V?o:new V(at(o))).pipe(lt(function(t,o){return e(r,t,n,o)}));var o,i},r))}:("number"==typeof e&&(r=e),function(e){return e.lift(new yt(t,r))})}var yt=function(){function t(t,e){void 0===e&&(e=Number.POSITIVE_INFINITY),this.project=t,this.concurrent=e}return t.prototype.call=function(t,e){return e.subscribe(new vt(t,this.project,this.concurrent))},t}(),vt=function(t){function e(e,r,n){void 0===n&&(n=Number.POSITIVE_INFINITY);var o=t.call(this,e)||this;return o.project=r,o.concurrent=n,o.hasCompleted=!1,o.buffer=[],o.active=0,o.index=0,o}return P(e,t),e.prototype._next=function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)},e.prototype._tryNext=function(t){var e,r=this.index++;try{e=this.project(t,r)}catch(t){return void this.destination.error(t)}this.active++,this._innerSub(e,t,r)},e.prototype._innerSub=function(t,e,r){var n=new ot(this,void 0,void 0);this.destination.add(n),function(t,e,r,n,o){if(void 0===o&&(o=new ot(t,r,n)),!o.closed)e instanceof V?e.subscribe(o):at(e)(o)}(this,t,e,r,n)},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(t,e,r,n,o){this.destination.next(e)},e.prototype.notifyComplete=function(t){var e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},e}(ft);function mt(t){return t}var wt=function(){function t(t,e){this.predicate=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new gt(t,this.predicate,this.thisArg))},t}(),gt=function(t){function e(e,r,n){var o=t.call(this,e)||this;return o.predicate=r,o.thisArg=n,o.count=0,o}return P(e,t),e.prototype._next=function(t){var e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}e&&this.destination.next(t)},e}(B);const _t=new nt(z("/ws/rest/v1/session"));function Et(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _t.asObservable().pipe((void 0===n&&(n=Number.POSITIVE_INFINITY),bt(mt,n)),lt(e=>t.includeAuthStatus?e.data:e.data.user),(e=Boolean,function(t){return t.lift(new wt(e,r))}));var e,r,n}function St(){_t.next(z("/ws/rest/v1/session"))}function jt(t,e){return e.privileges.find(e=>t===e.display)}var xt=r(2),Ot=r.n(xt);function Pt(t){const[e,r]=Ot.a.useState(null);return Ot.a.useEffect(()=>{const t=Et({includeAuthStatus:!1}).subscribe(t=>{r(t)});return()=>{t.unsubscribe()}},[]),e?void 0!==jt(t.privilege,e)&&t.children:null}const $t={"webservices.rest":"2.24.0",fhir:"1.18.0"};r.d(e,"openmrsFetch",function(){return J}),r.d(e,"openmrsObservableFetch",function(){return z}),r.d(e,"fhir",function(){return K}),r.d(e,"getCurrentUser",function(){return Et}),r.d(e,"refetchCurrentUser",function(){return St}),r.d(e,"userHasAccess",function(){return jt}),r.d(e,"UserHasAccessReact",function(){return Pt}),r.d(e,"omrsBackendDependencies",function(){return $t})}]))}}});
//# sourceMappingURL=openmrs-esm-api.js.map