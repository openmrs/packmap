!function(){"use strict";var e=/^\d+$/g;function t(){setTimeout(function(){window.CustomEvent&&window.dispatchEvent(new CustomEvent("import-map-overrides:change"))})}window.importMapOverrides={addOverride:function(n,o){e.test(o)&&(o=window.importMapOverrides.getUrlFromPort(n,o));var r="import-map-override:"+n;return localStorage.setItem(r,o),t(),window.importMapOverrides.getOverrideMap()},getOverrideMap:function(){for(var e={imports:{}},t=0;t<localStorage.length;t++){var n=localStorage.key(t);n.startsWith("import-map-override:")&&(e.imports[n.slice("import-map-override:".length)]=localStorage.getItem(n))}return e},removeOverride:function(e){var n="import-map-override:"+e,o=null!==localStorage.getItem(n);return localStorage.removeItem(n),t(),o},resetOverrides:function(){return Object.keys(window.importMapOverrides.getOverrideMap().imports).forEach(function(e){window.importMapOverrides.removeOverride(e)}),t(),window.importMapOverrides.getOverrideMap()},hasOverrides:function(){return Object.keys(window.importMapOverrides.getOverrideMap().imports).length>0},getUrlFromPort:function(e,t){var n=e.replace(/@/g,"").replace(/\//g,"-");return"//localhost:".concat(t,"/").concat(n,".js")}};var n=window.importMapOverrides.getOverrideMap(),o=document.querySelector('meta[name="importmap-type"]'),r=o?o.getAttribute("content"):"import-map";if(Object.keys(n.imports).length>0){var i=document.createElement("script");i.type=r,i.id="import-map-overrides",i.innerHTML=JSON.stringify(n);var l=document.querySelectorAll('script[type="'.concat(r,'"]'));l.length>0?l[l.length-1].insertAdjacentElement("afterend",i):document.head.appendChild(i)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function u(e,t,n){return t&&d(e.prototype,t),n&&d(e,n),e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e,t,n){return(f=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()?Reflect.construct:function(e,t,n){var o=[null];o.push.apply(o,t);var r=new(Function.bind.apply(e,o));return n&&m(r,n.prototype),r}).apply(null,arguments)}function v(e){var t="function"==typeof Map?new Map:void 0;return(v=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,o)}function o(){return f(e,arguments,c(this).constructor)}return o.prototype=Object.create(e.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),m(o,e)})(e)}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?h(e):t}!function(e,t){void 0===t&&(t={});var n=t.insertAt;if("undefined"!=typeof document){var o=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css","top"===n&&o.firstChild?o.insertBefore(r,o.firstChild):o.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}}(".imo-unstyled {\n  border: none;\n  padding: 0;\n  width: auto;\n  overflow: visible;\n  background: transparent;\n  color: inherit;\n  font: inherit;\n  line-height: normal;\n  cursor: pointer;\n  -webkit-font-smoothing: inherit;\n  -moz-osx-font-smoothing: inherit;\n  -webkit-appearance: none;\n}\n\n.imo-unstyled::-moz-focus-inner {\n  border: 0;\n  padding: 0;\n}\n\n.imo-trigger {\n  position: fixed;\n  bottom: 0;\n  right: 0;\n  margin: 10px;\n  border-radius: 5px;\n  background-color: navajowhite;\n  height: 50px;\n  width: 50px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-size: 18px;\n  font-family: sans-serif;\n  z-index: 10500;\n}\n\n.imo-popup {\n  box-sizing: border-box;\n  position: fixed;\n  bottom: 0;\n  left: 0;\n  width: 100%;\n  height: 50%;\n  z-index: 10000;\n  background-color: black;\n  color: white;\n  font-family: sans-serif;\n  padding: 24px;\n  overflow-y: auto;\n}\n\n.imo-popup a:visited,\nimo-popup a {\n  color: white;\n}\n\n.imo-popup .imo-module-dialog {\n  left: calc(50% - 200px);\n}\n\n.imo-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: flex-start;\n}\n\n.imo-list {\n  margin-left: 16px;\n}\n\n.imo-list > *:not(:last-child) {\n  margin-bottom: 8px;\n}\n\n.imo-list-container {\n  font-family: sans-serif;\n}\n\n.imo-module-dialog {\n  position: fixed;\n  z-index: 30000000;\n  top: 30%;\n  max-width: 600px;\n  margin: 0 auto;\n  border: 4px solid navajowhite;\n}\n\n.imo-module-dialog input {\n  width: 100%;\n  font-size: 16px;\n  box-sizing: border-box;\n  padding-right: 20px;\n}\n\n.imo-module-dialog table {\n  margin-bottom: 16px;\n}\n\n.imo-module-dialog table td:first-child {\n  text-align: right;\n  padding-right: 16px;\n  word-break: keep-all;\n}\n\n.imo-module-dialog table td {\n  word-break: break-all;\n}\n\n.imo-module-dialog.imo-overridden {\n  border: 4px solid salmon;\n}\n\n.imo-list-container button,\n.imo-modal-container button {\n  padding: 6px 16px;\n  font-size: 16px;\n  text-align: center;\n}\n\nbutton.imo-default {\n  background-color: navajowhite;\n}\n\nbutton.imo-overridden,\n.imo-trigger.imo-overridden {\n  background-color: salmon;\n  font-weight: bold;\n}\n\n.imo-add-new {\n  margin-top: 16px;\n  margin-left: 16px;\n}\n\n.imo-clear-input {\n  position: absolute;\n  top: 0;\n  right: 4px;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  height: 100%;\n}\n\n.imo-modal-container {\n  font-family: sans-serif;\n}\n\n.imo-modal {\n  background-color: rgba(61, 70, 77, 0.6);\n  position: fixed;\n  width: 100vw;\n  height: 100vh;\n  top: 0;\n  left: 0;\n  z-index: 20000000;\n}\n");var y=function(){},w={},b=[],x=[];function _(e,t){var n,o,r,i,l=x;for(i=arguments.length;i-- >2;)b.push(arguments[i]);for(t&&null!=t.children&&(b.length||b.push(t.children),delete t.children);b.length;)if((o=b.pop())&&void 0!==o.pop)for(i=o.length;i--;)b.push(o[i]);else"boolean"==typeof o&&(o=null),(r="function"!=typeof e)&&(null==o?o="":"number"==typeof o?o=String(o):"string"!=typeof o&&(r=!1)),r&&n?l[l.length-1]+=o:l===x?l=[o]:l.push(o),n=r;var a=new y;return a.nodeName=e,a.children=l,a.attributes=null==t?void 0:t,a.key=null==t?void 0:t.key,a}function N(e,t){for(var n in t)e[n]=t[n];return e}function k(e,t){e&&("function"==typeof e?e(t):e.current=t)}var M="function"==typeof Promise?Promise.resolve().then.bind(Promise.resolve()):setTimeout,C=/acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i,U=[];function O(e){!e._dirty&&(e._dirty=!0)&&1==U.push(e)&&M(S)}function S(){for(var e;e=U.pop();)e._dirty&&G(e)}function E(e,t,n){return"string"==typeof t||"number"==typeof t?void 0!==e.splitText:"string"==typeof t.nodeName?!e._componentConstructor&&P(e,t.nodeName):n||e._componentConstructor===t.nodeName}function P(e,t){return e.normalizedNodeName===t||e.nodeName.toLowerCase()===t.toLowerCase()}function L(e){var t=N({},e.attributes);t.children=e.children;var n=e.nodeName.defaultProps;if(void 0!==n)for(var o in n)void 0===t[o]&&(t[o]=n[o]);return t}function j(e){var t=e.parentNode;t&&t.removeChild(e)}function T(e,t,n,o,r){if("className"===t&&(t="class"),"key"===t);else if("ref"===t)k(n,null),k(o,e);else if("class"!==t||r)if("style"===t){if(o&&"string"!=typeof o&&"string"!=typeof n||(e.style.cssText=o||""),o&&"object"==typeof o){if("string"!=typeof n)for(var i in n)i in o||(e.style[i]="");for(var i in o)e.style[i]="number"==typeof o[i]&&!1===C.test(i)?o[i]+"px":o[i]}}else if("dangerouslySetInnerHTML"===t)o&&(e.innerHTML=o.__html||"");else if("o"==t[0]&&"n"==t[1]){var l=t!==(t=t.replace(/Capture$/,""));t=t.toLowerCase().substring(2),o?n||e.addEventListener(t,D,l):e.removeEventListener(t,D,l),(e._listeners||(e._listeners={}))[t]=o}else if("list"!==t&&"type"!==t&&!r&&t in e){try{e[t]=null==o?"":o}catch(e){}null!=o&&!1!==o||"spellcheck"==t||e.removeAttribute(t)}else{var a=r&&t!==(t=t.replace(/^xlink:?/,""));null==o||!1===o?a?e.removeAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase()):e.removeAttribute(t):"function"!=typeof o&&(a?e.setAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase(),o):e.setAttribute(t,o))}else e.className=o||""}function D(e){return this._listeners[e.type](e)}var I=[],A=0,R=!1,W=!1;function z(){for(var e;e=I.shift();)e.componentDidMount&&e.componentDidMount()}function B(e,t,n,o,r,i){A++||(R=null!=r&&void 0!==r.ownerSVGElement,W=null!=e&&!("__preactattr_"in e));var l=function e(t,n,o,r,i){var l=t,a=R;if(null!=n&&"boolean"!=typeof n||(n=""),"string"==typeof n||"number"==typeof n)return t&&void 0!==t.splitText&&t.parentNode&&(!t._component||i)?t.nodeValue!=n&&(t.nodeValue=n):(l=document.createTextNode(n),t&&(t.parentNode&&t.parentNode.replaceChild(l,t),F(t,!0))),l.__preactattr_=!0,l;var d,u,s=n.nodeName;if("function"==typeof s)return function(e,t,n,o){for(var r=e&&e._component,i=r,l=e,a=r&&e._componentConstructor===t.nodeName,d=a,u=L(t);r&&!d&&(r=r._parentComponent);)d=r.constructor===t.nodeName;return r&&d&&(!o||r._component)?(J(r,u,3,n,o),e=r.base):(i&&!a&&(K(i),e=l=null),r=q(t.nodeName,u,n),e&&!r.nextBase&&(r.nextBase=e,l=null),J(r,u,1,n,o),e=r.base,l&&e!==l&&(l._component=null,F(l,!1))),e}(t,n,o,r);if(R="svg"===s||"foreignObject"!==s&&R,s=String(s),(!t||!P(t,s))&&(d=s,(u=R?document.createElementNS("http://www.w3.org/2000/svg",d):document.createElement(d)).normalizedNodeName=d,l=u,t)){for(;t.firstChild;)l.appendChild(t.firstChild);t.parentNode&&t.parentNode.replaceChild(l,t),F(t,!0)}var p=l.firstChild,c=l.__preactattr_,m=n.children;if(null==c){c=l.__preactattr_={};for(var f=l.attributes,v=f.length;v--;)c[f[v].name]=f[v].value}return!W&&m&&1===m.length&&"string"==typeof m[0]&&null!=p&&void 0!==p.splitText&&null==p.nextSibling?p.nodeValue!=m[0]&&(p.nodeValue=m[0]):(m&&m.length||null!=p)&&function(t,n,o,r,i){var l,a,d,u,s,p=t.childNodes,c=[],m={},f=0,v=0,h=p.length,g=0,y=n?n.length:0;if(0!==h)for(var w=0;w<h;w++){var b=p[w],x=b.__preactattr_,_=y&&x?b._component?b._component.__key:x.key:null;null!=_?(f++,m[_]=b):(x||(void 0!==b.splitText?!i||b.nodeValue.trim():i))&&(c[g++]=b)}if(0!==y)for(var w=0;w<y;w++){u=n[w],s=null;var _=u.key;if(null!=_)f&&void 0!==m[_]&&(s=m[_],m[_]=void 0,f--);else if(v<g)for(l=v;l<g;l++)if(void 0!==c[l]&&E(a=c[l],u,i)){s=a,c[l]=void 0,l===g-1&&g--,l===v&&v++;break}s=e(s,u,o,r),d=p[w],s&&s!==t&&s!==d&&(null==d?t.appendChild(s):s===d.nextSibling?j(d):t.insertBefore(s,d))}if(f)for(var w in m)void 0!==m[w]&&F(m[w],!1);for(;v<=g;)void 0!==(s=c[g--])&&F(s,!1)}(l,m,o,r,W||null!=c.dangerouslySetInnerHTML),function(e,t,n){var o;for(o in n)t&&null!=t[o]||null==n[o]||T(e,o,n[o],n[o]=void 0,R);for(o in t)"children"===o||"innerHTML"===o||o in n&&t[o]===("value"===o||"checked"===o?e[o]:n[o])||T(e,o,n[o],n[o]=t[o],R)}(l,n.attributes,c),R=a,l}(e,t,n,o,i);return r&&l.parentNode!==r&&r.appendChild(l),--A||(W=!1,i||z()),l}function F(e,t){var n=e._component;n?K(n):(null!=e.__preactattr_&&k(e.__preactattr_.ref,null),!1!==t&&null!=e.__preactattr_||j(e),H(e))}function H(e){for(e=e.lastChild;e;){var t=e.previousSibling;F(e,!0),e=t}}var V=[];function q(e,t,n){var o,r=V.length;for(e.prototype&&e.prototype.render?(o=new e(t,n),Q.call(o,t,n)):((o=new Q(t,n)).constructor=e,o.render=$);r--;)if(V[r].constructor===e)return o.nextBase=V[r].nextBase,V.splice(r,1),o;return o}function $(e,t,n){return this.constructor(e,n)}function J(e,t,n,o,r){e._disable||(e._disable=!0,e.__ref=t.ref,e.__key=t.key,delete t.ref,delete t.key,void 0===e.constructor.getDerivedStateFromProps&&(!e.base||r?e.componentWillMount&&e.componentWillMount():e.componentWillReceiveProps&&e.componentWillReceiveProps(t,o)),o&&o!==e.context&&(e.prevContext||(e.prevContext=e.context),e.context=o),e.prevProps||(e.prevProps=e.props),e.props=t,e._disable=!1,0!==n&&(1!==n&&!1===w.syncComponentUpdates&&e.base?O(e):G(e,1,r)),k(e.__ref,e))}function G(e,t,n,o){if(!e._disable){var r,i,l,a=e.props,d=e.state,u=e.context,s=e.prevProps||a,p=e.prevState||d,c=e.prevContext||u,m=e.base,f=e.nextBase,v=m||f,h=e._component,g=!1,y=c;if(e.constructor.getDerivedStateFromProps&&(d=N(N({},d),e.constructor.getDerivedStateFromProps(a,d)),e.state=d),m&&(e.props=s,e.state=p,e.context=c,2!==t&&e.shouldComponentUpdate&&!1===e.shouldComponentUpdate(a,d,u)?g=!0:e.componentWillUpdate&&e.componentWillUpdate(a,d,u),e.props=a,e.state=d,e.context=u),e.prevProps=e.prevState=e.prevContext=e.nextBase=null,e._dirty=!1,!g){r=e.render(a,d,u),e.getChildContext&&(u=N(N({},u),e.getChildContext())),m&&e.getSnapshotBeforeUpdate&&(y=e.getSnapshotBeforeUpdate(s,p));var w,b,x=r&&r.nodeName;if("function"==typeof x){var _=L(r);(i=h)&&i.constructor===x&&_.key==i.__key?J(i,_,1,u,!1):(w=i,e._component=i=q(x,_,u),i.nextBase=i.nextBase||f,i._parentComponent=e,J(i,_,0,u,!1),G(i,1,n,!0)),b=i.base}else l=v,(w=h)&&(l=e._component=null),(v||1===t)&&(l&&(l._component=null),b=B(l,r,u,n||!m,v&&v.parentNode,!0));if(v&&b!==v&&i!==h){var k=v.parentNode;k&&b!==k&&(k.replaceChild(b,v),w||(v._component=null,F(v,!1)))}if(w&&K(w),e.base=b,b&&!o){for(var M=e,C=e;C=C._parentComponent;)(M=C).base=b;b._component=M,b._componentConstructor=M.constructor}}for(!m||n?I.push(e):g||e.componentDidUpdate&&e.componentDidUpdate(s,p,y);e._renderCallbacks.length;)e._renderCallbacks.pop().call(e);A||o||z()}}function K(e){var t=e.base;e._disable=!0,e.componentWillUnmount&&e.componentWillUnmount(),e.base=null;var n=e._component;n?K(n):t&&(null!=t.__preactattr_&&k(t.__preactattr_.ref,null),e.nextBase=t,j(t),V.push(e),H(t)),k(e.__ref,null)}function Q(e,t){this._dirty=!0,this.context=t,this.props=e,this.state=this.state||{},this._renderCallbacks=[]}function X(e,t,n){return B(n,e,{},!1,t,!1)}N(Q.prototype,{setState:function(e,t){this.prevState||(this.prevState=this.state),this.state=N(N({},this.state),"function"==typeof e?e(this.state,this.props):e),t&&this._renderCallbacks.push(t),O(this)},forceUpdate:function(e){e&&this._renderCallbacks.push(e),G(this,2)},render:function(){}});var Y=function(e){function t(){var e,n;a(this,t);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return s(h(n=g(this,(e=c(t)).call.apply(e,[this].concat(r)))),"getInitialOverrideUrl",function(){var e=new RegExp("//localhost:([0-9]+)/").exec(n.props.module.overrideUrl);return e&&n.props.module.overrideUrl===window.importMapOverrides.getUrlFromPort(n.props.module.moduleName,e[1])?e[1]:n.props.module.overrideUrl?n.props.module.overrideUrl:""}),s(h(n),"state",{overrideUrl:n.getInitialOverrideUrl(),moduleName:""}),s(h(n),"inputEl",null),s(h(n),"moduleNameEl",null),s(h(n),"handleInputRef",function(e){n.inputEl=e}),s(h(n),"handleModuleNameRef",function(e){n.moduleNameEl=e}),s(h(n),"dialogRef",function(e){n.dialogEl=e}),s(h(n),"handleSubmit",function(e){e.preventDefault(),n.props.module.isNew?n.props.addNewModule(n.state.moduleName,n.state.overrideUrl):n.props.updateModuleUrl(n.state.overrideUrl)}),s(h(n),"getDerivedUrl",function(){var e=n.props.module.isNew?n.state.moduleName:n.props.module.moduleName;return Z.test(n.state.overrideUrl)?window.importMapOverrides.getUrlFromPort(e,n.state.overrideUrl):n.state.overrideUrl}),s(h(n),"keyDown",function(e){"Escape"===e.key&&(e.stopPropagation(),n.props.cancel())}),s(h(n),"focusFirstInput",function(){(n.moduleNameEl||n.inputEl).select()}),s(h(n),"clearModuleName",function(){n.setState({moduleName:""},function(){n.focusFirstInput()})}),s(h(n),"clearInput",function(){n.setState({overrideUrl:""},function(){n.focusFirstInput()})}),n}return p(t,Q),u(t,[{key:"componentDidMount",value:function(){this.focusFirstInput(),this.dialogEl.addEventListener("keydown",this.keyDown)}},{key:"componentDidUpdate",value:function(e,t){var n=this;this.props.module!==e.module&&this.setState({overrideUrl:this.props.module.overrideUrl||""},function(){n.focusFirstInput()})}},{key:"componentWillUnmount",value:function(){this.dialogEl.removeEventListener("keydown",this.keyDown)}},{key:"render",value:function(e){var t=this,n=e.module;return _("div",{className:"imo-modal-container"},_("div",{className:"imo-modal"}),_("dialog",{className:"imo-module-dialog ".concat(this.state.overrideUrl.length>0?"imo-overridden":"imo-default"),open:!0,ref:this.dialogRef},_("form",{method:"dialog",onSubmit:this.handleSubmit},_("h3",{style:{marginTop:0}},n.moduleName),_("table",null,_("tbody",null,!n.isNew&&_("tr",null,_("td",null,"Default URL:"),_("td",null,n.defaultUrl)),n.isNew&&_("tr",null,_("td",null,_("span",{id:"module-name-label"},"Module Name:")),_("td",{style:{position:"relative"}},_("input",{type:"text",value:this.state.moduleName,"aria-labelledby":"module-name-label",onInput:function(e){return t.setState({moduleName:e.target.value})},ref:this.handleModuleNameRef,required:!0}),_("div",{role:"button",tabIndex:0,className:"imo-clear-input",onClick:this.clearModuleName},_("div",null,"ⓧ")))),_("tr",null,_("td",null,_("span",{id:"override-url-label"},"Override URL:")),_("td",{style:{position:"relative"}},_("input",{ref:this.handleInputRef,type:"text",value:this.state.overrideUrl,"aria-labelledby":"override-url-label",onInput:function(e){return t.setState({overrideUrl:e.target.value})}}),_("div",{role:"button",tabIndex:0,className:"imo-clear-input",onClick:this.clearInput},_("div",null,"ⓧ")))),Z.test(this.state.overrideUrl)&&_("tr",null,_("td",null,"Derived url:"),_("td",null,this.getDerivedUrl())))),_("div",{className:"imo-dialog-actions"},_("button",{type:"button",onClick:this.props.cancel,style:{marginRight:"16px"}},"Cancel"),_("button",{type:"submit",className:this.state.overrideUrl?"imo-overridden":"imo-default"},this.state.overrideUrl?"Apply override":"Reset to default")))))}}]),t}(),Z=/^\d+$/,ee=function(e){function t(){var e,n;a(this,t);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return s(h(n=g(this,(e=c(t)).call.apply(e,[this].concat(r)))),"state",{notOverriddenMap:{imports:{}},dialogModule:null}),s(h(n),"cancel",function(){n.setState({dialogModule:null})}),s(h(n),"updateModuleUrl",function(e){null===(e=e||null)?window.importMapOverrides.removeOverride(n.state.dialogModule.moduleName):window.importMapOverrides.addOverride(n.state.dialogModule.moduleName,e),n.setState({dialogModule:null})}),s(h(n),"doUpdate",function(){return n.forceUpdate()}),s(h(n),"addNewModule",function(e,t){e&&t&&window.importMapOverrides.addOverride(e,t),n.setState({dialogModule:null})}),n}return p(t,Q),u(t,[{key:"componentDidMount",value:function(){var e=this;Array.prototype.reduce.call(document.querySelectorAll('script[type="'.concat(r,'"]')),function(e,t){return"import-map-overrides"===t.id?e:(n=t.src?fetch(t.src).then(function(e){return e.json()}):Promise.resolve(JSON.parse(t.textContent)),Promise.all([e,n]).then(function(e){var t,n,o=(n=2,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){var n=[],o=!0,r=!1,i=void 0;try{for(var l,a=e[Symbol.iterator]();!(o=(l=a.next()).done)&&(n.push(l.value),!t||n.length!==t);o=!0);}catch(e){r=!0,i=e}finally{try{o||null==a.return||a.return()}finally{if(r)throw i}}return n}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}());return function(e,t){for(var n in t.imports)e.imports[n]=t.imports[n];for(var o in t.scopes)e.scopes[o]=t.scopes[o];return e}(o[0],o[1])}));var n},Promise.resolve(this.state.notOverriddenMap)).then(function(t){e.setState({notOverriddenMap:t})}),window.addEventListener("import-map-overrides:change",this.doUpdate)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("import-map-overrides:change",this.doUpdate)}},{key:"componentDidUpdate",value:function(e,t){!t.dialogModule&&this.state.dialogModule?(this.dialogContainer=document.createElement("div"),document.body.appendChild(this.dialogContainer),X(_(Y,{module:this.state.dialogModule,cancel:this.cancel,updateModuleUrl:this.updateModuleUrl,addNewModule:this.addNewModule}),this.dialogContainer)):t.dialogModule&&!this.state.dialogModule&&(X(null,this.dialogContainer),this.dialogContainer.remove(),delete this.dialogContainer)}},{key:"render",value:function(){var e=this,t=[],n=[],o=window.importMapOverrides.getOverrideMap().imports;return Object.keys(this.state.notOverriddenMap.imports).forEach(function(r){var i={moduleName:r,defaultUrl:e.state.notOverriddenMap.imports[r],overrideUrl:o[r]};o[r]?t.push(i):n.push(i)}),Object.keys(o).forEach(function(e){t.some(function(t){return t.moduleName===e})||t.push({moduleName:e,defaultUrl:null,overrideUrl:o[e]})}),t.sort(te),n.sort(te),_("div",{className:"imo-list-container"},_("div",null,_("h3",null,"Overridden Modules"),_("div",{className:"imo-list"},0===t.length&&_("div",null,"(No overridden modules)"),t.map(function(t){return _("div",null,_("button",{className:"imo-overridden",onClick:function(){return e.setState({dialogModule:t})}},t.moduleName))}))),_("div",{className:"imo-add-new"},_("button",{onClick:function(){return e.setState({dialogModule:{moduleName:"New module",isNew:!0}})}},"Add new module")),_("div",null,_("h3",null,"Default Modules"),_("div",{className:"imo-list"},0===n.length&&_("div",null,"(No default modules)"),n.map(function(t){return _("div",null,_("button",{className:"imo-default",onClick:function(){return e.setState({dialogModule:t})}},t.moduleName))}))))}}]),t}();function te(e,t){return e.moduleName>t.moduleName}var ne=function(e){function t(){var e,n;a(this,t);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return s(h(n=g(this,(e=c(t)).call.apply(e,[this].concat(r)))),"doUpdate",function(){return n.forceUpdate()}),s(h(n),"keydownListener",function(e){"Escape"===e.key&&n.props.close&&n.props.close()}),n}return p(t,Q),u(t,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.keydownListener),window.addEventListener("import-map-overrides:change",this.doUpdate)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.keydownListener),window.removeEventListener("import-map-overrides:change",this.doUpdate)}},{key:"render",value:function(e){return _("div",{className:"imo-popup"},_("div",{className:"imo-header"},_("div",null,_("h1",null,"Import Map Overrides"),_("p",null,"This developer tool allows you to view and override your import maps."," ",_("a",{target:"_blank",href:"https://github.com/joeldenning/import-map-overrides"},"See documentation for more info"),".")),_("button",{className:"imo-unstyled",onClick:e.close},"ⓧ")),_(ee,{importMapChanged:this.props.importMapChanged}))}}]),t}(),oe=function(e){function t(){var e,n;a(this,t);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return s(h(n=g(this,(e=c(t)).call.apply(e,[this].concat(r)))),"state",{showingPopup:!1}),s(h(n),"doUpdate",function(){return n.forceUpdate()}),s(h(n),"toggleTrigger",function(){n.setState(function(e){return{showingPopup:!e.showingPopup}})}),s(h(n),"importMapChanged",function(){n.forceUpdate()}),n}return p(t,Q),u(t,[{key:"componentDidMount",value:function(){window.addEventListener("import-map-overrides:change",this.doUpdate)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("import-map-overrides:change",this.doUpdate)}},{key:"render",value:function(e,t){if(e.customElement.hasAttribute("show-when-local-storage")&&"true"!==localStorage.getItem(e.customElement.getAttribute("show-when-local-storage")))return null;var n=Object.keys(window.importMapOverrides.getOverrideMap().imports).length>0;return _("div",null,_("button",{onClick:this.toggleTrigger,className:"imo-unstyled imo-trigger ".concat(n?"imo-overridden":"")},"{···}"),t.showingPopup&&_(ne,{close:this.toggleTrigger,importMapChanged:this.importMapChanged}))}}]),t}();function re(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return function(n){function o(){return a(this,o),g(this,c(o).apply(this,arguments))}return p(o,v(HTMLElement)),u(o,[{key:"connectedCallback",value:function(){this.renderWithPreact()}},{key:"disconnectedCallback",value:function(){X(null,this),this.renderedEl=null}},{key:"attributeChangedCallback",value:function(){this.renderWithPreact()}},{key:"renderWithPreact",value:function(){this.renderedEl=X(_(e,{customElement:this}),this,this.renderedEl)}}],[{key:"observedAttributes",get:function(){return t}}]),o}()}window.customElements&&(window.customElements.define("import-map-overrides-full",re(oe,["show-when-local-storage"])),window.customElements.define("import-map-overrides-popup",re(ne)),window.customElements.define("import-map-overrides-list",re(ee)))}();
//# sourceMappingURL=import-map-overrides.js.map
